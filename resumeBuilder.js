var bio = {
	"name" : "Gary Lai",
	"role" : "Automotive Design + Self-Driving Car Engineer" ,
	"contacts" : {
        "email" : "gary.lai.31337@gmail.com" ,
         "mobile" : "55749869" ,
         "location" : "Hong Kong" ,
         "github" : "garyl2203"
	},
	"WelcomeMessage" : "I can't change the direction of the wind, but I can adjust " +
	"my sails so I'll eventually reach my destination - James Dean" ,
	"skills" : [ 
	     ' Photoshop ' , ' Blender ', ' WordPress ' , ' CatiaV5 ' , ' Python ' , ' R ' , 
	     ' AutoCAD '  , ' HTML/CSS ' , ' LaTex ', ' Javascript ', ],
     "bioPic" : "images/mefixed.jpg"
}

var education = {  
	"schools" : [
	{
	"name" :  "Intrinsys Engineering" ,
	"location" : "Milton Keynes" ,
	"degree" : "Certificate of Completion" ,
	"majors" : ["CatiaV5 Fundamentals"] ,
	"dates" : "2016"  ,
	"url" : "http://www.intrinsys.com/engineering"
    },
    {
	"name" :  "Welkin Systems Ltd" ,
	"location" : "Hong Kong" ,
	"degree" : "Diploma" ,
	"majors" : ["Computer Aided Design with Autodesk"] ,
	"dates" : "2015"  ,
	"url" : "http://www.welkin.com.hk/"
    },
    {
    "name" :  "The University of Edinburgh" ,
    "location" : "Edinburgh" ,
    "degree" : "BSc Mathematics and Statistics" ,
    "majors" : ["R Statistical Programming" , " Linear Modelling"] ,
	"dates" : "2007-2011"  ,
	"url" : "http://www.ed.ac.uk/"
    }
	],

    "onlineCourses" : [
    {
    "school" :  "Udacity" ,
    "location" : "Hong Kong" ,
    "degree" : "Nanodegree" ,
	"title" : ["Self-Driving Car Engineer"] ,
	"dates" : "2016 - Current"  ,
	"units" : ["Python" , " Computer Vision"] ,
	"url" : "https://www.udacity.com/classic"
    },
    {
	"school" :  "Udacity" ,
	"location" : "Hong Kong" ,
	"dates" : "2016"  ,
	"degree" : "Nanodegree" ,
	"title" : ["Intro to Programming"] ,
	"units" : ["Python" , " HTML", " CSS" , " Javascript"] ,
	"url" : "https://www.udacity.com/classic"
    }
    ]
}

var work = {
	"companies" : [
	{
	"title" :  "Mathematics Instructor" ,
	"employer" :  "iThink Education" ,
	"dates" :  "2014 - current" ,
	"location" :  "Hong Kong" , 
	"url" : "http://www.ithink-education.com.hk/" ,
	"description" : 'I am currently teaching mathematics up to the IB, iGCSE level, ' +
	                'with students from the top local schools (DGS) and international ' +
	                'schools such as German Swiss International. ' 
    },
    {
	"title" :  "Teacher" ,
	"employer" :  "English for Asia" ,
	"dates" :  "2013" ,
	"location" :  "Hong Kong" ,
	"url" : "http://www.englishforasia.com/en/" ,
	"description" :  'Teach the Cambridge Movers curriculum to large classes of 28 ' +
	                 'students, as well as organizing and conducting classroom management.'
    },
    {
	"title" :  "Flow Data Analyst" ,
	"employer" :  "ADS Environmental Services" ,
	"dates" :  "2012 - 2013" ,
	"location" :  "Sydney"  ,
	"url" : "http://www.adsenv.com/" ,
	"description" :  'Work with senior data analysts to identify data quality ' +
	                 'issues, performed daily data mining procedures to examine water flow, ' +
	                 'experienced with troubleshooting and maintenance of large datasets. ' 
    },
    {
	"title" :  "Data Auditor" ,
	"employer" :  "Mike Ritchie & Associates" ,
	"dates" :  "2013" ,
	"location" :  "Sydney"  ,
	"url" :  "http://www.mraconsulting.com.au/" ,
	"description" :  'Hands on experience in the recycling industry, collecting valuable data ' +
	                 'on types of waste produced by households, requiring a keen eye for detail. ' 
    },
    {
	"title" :  "Research Assistant" ,
	"employer" :  "Hong Kong University" ,
	"dates" :  "2012" ,
	"location" :  "Hong Kong"  ,
	"url" : "http://www.hku.hk/" ,
	"description" :  'Proofreading research articles and submission of ' +
	                 'medical articles, used excel to analyze data from short surveys and questionnaires. '
    },
    {
	"title" :  "Assistant Public Health Researcher" ,
	"employer" :  "Glasgow Centre for Population Health" ,
	"dates" :  "2010" ,
	"location" :  "Glasgow"  ,
	"url" : "http://www.gcph.co.uk/" ,
	"description" :  'Performed initial analyses of life expectancy and income inequality ' +
	                 'for the West of Scotland, used SPSS to create reports of findings including ' +
	                 'statistical figures for other de-industrialised regions of Europe. ' 
	},
    ]
}

var projects = {
	"projects": [
	{
		"employer" : "none" ,
		"title" : "Project Silverbolt – Emergency Cargo Delivery Drone – Local Motors/Airbus" ,
		"dates" : "2016" ,
		"description" : 'The purpose of this project competition is to design a drone ' +
		  'that will deliver medical or emergency supplies to far or remote ' +
		  'regions of the planet where terrain is difficult. The design was created and rendered in Blender, ' +
		  'with the concept inspired by aircraft such as the Saab J21-R. I learned to work under strict ' +
		  'deadlines as well as receiving good, constructive criticism for future improvements. ' +
 		  'I further strengthened my experience in 3D modelling and design skills ' +
		  'as well as gaining other soft skills such as re-conceptualising, gathering valuble information ' +
		  'relating to the aerodynamics and engineering, being persistent and above all, having fun!' ,
         "images" : [
         "https://davidsonautomotivedotcom.files.wordpress.com/2015/05/final-render2.png?w=500&h=&crop=1",
         "https://davidsonautomotivedotcom.files.wordpress.com/2015/05/structure_fuselage4.png?w=500&h=&crop=1"
         ],
         "url" : "https://localmotors.com/"
	},
    {
    	"employer" : "none" ,
		"title" : "Sailor Bag design – Portfolio" ,
		"dates" : "2015" ,
		"description" : 'For this personal project I focused soley on design using ' +
		  'Scottish fabric and Italian leather. Key areas I wanted to focus on: ' +
		  'Brand/image visualisation, management of a small team, and website layout/design. ' +
		  'I also wanted to focus on the usage of quality materials, as I am aspiring to be ' +
		  'working in the automotive industry, I wanted to gain more skills relating to ' +
 		  'fashion design as well as automotive design.' ,
         "images" : [
         "https://lh3.googleusercontent.com/agNMtnwZQihFvE5qGyA71ZpkHMBzrs4JRzTHuE0ZVxbamk" +
         "CSCeRKVTLOjEO1NthAO9WmXW-TvQ=w960-h540-no",
         "https://lh3.googleusercontent.com/ijb2eO1aGsDCqyUL7r80TMu0vy851dwM2FqtDXB-gUpM3z" +
         "xPg1QVuzrY25qAs4wbK61nTiKykA=w960-h540-no",
         "https://lh3.googleusercontent.com/_FVCygDxqe6TBgsPJGhaAXjwAQlIV8XMHTlynVon8hcLUZ" +
         "tOvbh_i3zIN7ZAg_sRXAd6RjaiwA=w960-h540-no"
         ],
         "url" : "http://www.pocherouge.com/"
	},
    {
    	"employer" : "none" ,
		"title" : "Automotive design – Portfolio" ,
		"dates" : "2015 - Current" ,
		"description" : 'I will be attending Scuola Politecnica di Design  in Milan ' +
		  'next year to study Car Design. I am also aspiring to work for the automotive ' +
		  'industry. I am familiar with a variaty of 3D software such as Blender, CatiaV5 ' +
		  'and AutoCAD. ' ,
         "images" : [
         "https://davidsonautomotivedotcom.files.wordpress.com/2015/10/car-render.png?w=600&h=&crop=1",
         "https://lh3.googleusercontent.com/-KXs0V5l2kzY/V9pU2KWTi1I/AAAAAAAABsY/" +
         "hlg7zW2VSsQ4bO6NcPTRWJOdvIuJsGX2gCJoC/w730-h289-p/RoughSketch2%2Bcopy.jpg"
         ],
         "url" : "https://davidson-automotive.com/about/portfolio-2/"
	},

	]
}

bio.display = function() { 
 var formattedName = HTMLheaderName.replace("%data%", bio.name);
 var formattedrole = HTMLheaderRole.replace("%data%", bio.role);
 var formattedbioPic = HTMLbioPic.replace("%data%", bio.bioPic);
 var formattedmobile = HTMLmobile.replace("%data%", bio.contacts.mobile);
 var formattedemail = HTMLemail.replace("%data%", bio.contacts.email);
 var formattedgithub = HTMLgithub.replace("%data%", bio.contacts.github);
 var formattedlocation = HTMLlocation.replace("%data%", bio.contacts.location);
 var formattedmessage = HTMLwelcomeMsg.replace("%data%", bio.WelcomeMessage);
 
$("#header").prepend(formattedrole);
$("#header").prepend(formattedName);
$("#header").append(formattedbioPic);
$("#topContacts").append(formattedmobile);
$("#topContacts").append(formattedemail);
$("#topContacts").append(formattedgithub);
$("#topContacts").append(formattedlocation);
$("#header").append(formattedmessage);

};

bio.display();

bio.addskills = function(){
$("#header").append(HTMLskillsStart);
var i;

for ( i = 0; i < bio.skills.length; i++) {

	var formattedskill = HTMLskills.replace("%data%", bio.skills[i]);

	$("#skills").append(formattedskill);
}

};

bio.addskills();

work.display = function() {
var i;

for ( i = 0; i < work.companies.length; i++)  {
$("#workExperience").append(HTMLworkStart);

var formattedempl = HTMLworkEmployer.replace("%data%", work.companies[i].employer
	).replace("#",work.companies[i].url);
var formattedtitle = HTMLworkTitle.replace("%data%", work.companies[i].title);
var formatteddates = HTMLworkDates.replace("%data%", work.companies[i].dates);
var formattedworkcity = HTMLworkLocation.replace("%data%", work.companies[i].location);
var formattedworkdesc = HTMLworkDescription.replace("%data%", work.companies[i].description);
var formattedEmplTitle = formattedempl + formattedtitle

$(".work-entry:last").append(formattedEmplTitle);
$(".work-entry:last").append(formatteddates);  
$(".work-entry:last").append(formattedworkcity); 
$(".work-entry:last").append(formattedworkdesc); 


}
};

work.display();

projects.display = function() {

for ( project in projects.projects)  {
$("#projects").append(HTMLprojectStart);

var formattedprojtitle = HTMLprojectTitle.replace("%data%", projects.projects[project].title
	).replace("#",projects.projects[project].url);
var formattedprojdates = HTMLprojectDates.replace("%data%", projects.projects[project].dates);
var formattedprojdescr = HTMLprojectDescription.replace("%data%", projects.projects[project].description);

$(".project-entry:last").append(formattedprojtitle);
$(".project-entry:last").append(formattedprojdates);
$(".project-entry:last").append(formattedprojdescr);

if (projects.projects[project].images.length > 0) {
	for (image in projects.projects[project].images) {
		var formattedImage = HTMLprojectImage.replace("%data%", projects.projects[project].images[image]);
		$(".project-entry:last").append(formattedImage);
	}
}

}
};

projects.display();

education.display = function() {
var i;

for ( i = 0; i < education.schools.length; i++)  {
$("#education").append(HTMLschoolStart);

var formattedEduName = HTMLschoolName.replace("%data%", education.schools[i].name
	).replace("#",education.schools[i].url);
var formatteddegree = HTMLschoolDegree.replace("%data%", education.schools[i].degree);
var formattedschooldates = HTMLschoolDates.replace("%data%", education.schools[i].dates);
var formattedstudycity = HTMLschoolLocation.replace("%data%", education.schools[i].location);
var formattedmajor = HTMLschoolMajor.replace("%data%", education.schools[i].majors);
var fomrattedEdunameDegree = formattedEduName + formatteddegree

$(".education-entry:last").append(fomrattedEdunameDegree);
$(".education-entry:last").append(formattedschooldates);
$(".education-entry:last").append(formattedstudycity);
$(".education-entry:last").append(formattedmajor);

}
};

education.display();

$(".education-entry:last").append(HTMLonlineClasses);

education.display = function() {
var i;

for ( i = 0; i < education.onlineCourses.length; i++)  {

var formattedonlinetitle = HTMLonlineTitle.replace("%data%", education.onlineCourses[i].title
    ).replace("#",education.onlineCourses[i].url);
var formattedOnlineEduName = HTMLonlineSchool.replace("%data%", education.onlineCourses[i].school);
var formattedonlinedates = HTMLonlineDates.replace("%data%", education.onlineCourses[i].dates);
var formattedonlineunits = HTMLschoolMajor.replace("%data%", education.onlineCourses[i].units);
var formattedEdunameOnlinetitle = formattedonlinetitle + formattedOnlineEduName

$(".education-entry:last").append(formattedEdunameOnlinetitle);
$(".education-entry:last").append(formattedonlinedates);
$(".education-entry:last").append(formattedonlineunits);

}
};

education.display();


$("#main").prepend(internationalizeButton);


function inName(name) {

	name = name.trim().split(" ");

	console.log(name);

	name[1] = name[1].toUpperCase();
	name[0] = name[0].slice(0,1).toUpperCase() + name[0].slice(1).toLowerCase();

	return name[0] +" "+name[1];  
}


$("#mapDiv").append(googleMap);

 var formattedmobile = HTMLmobile.replace("%data%", bio.contacts.mobile);
 var formattedemail = HTMLemail.replace("%data%", bio.contacts.email);
 var formattedgithub = HTMLgithub.replace("%data%", bio.contacts.github);
 var formattedlocation = HTMLlocation.replace("%data%", bio.contacts.location);
$("#footerContacts").append(formattedmobile);
$("#footerContacts").append(formattedemail);
$("#footerContacts").append(formattedgithub);
$("#footerContacts").append(formattedlocation);
